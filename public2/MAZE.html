<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Template</title>
    <style>
        body {
            background: url('https://i.pinimg.com/originals/b9/ed/af/b9edafa2213fea4ad6d5ed710a2cf658.png');
            background-repeat: repeat;
            background-size: cover;
            position: relative;
            filter: brightness(1.2) saturate(1.5);
            margin: 0; /* Remove default margin */
            overflow: hidden; /* Prevent scrolling */
            height: 100vh; /* Full height for the body */
        }
        h1 {
            color: #FFD700;
            text-align: center;
        }
        #myImg01, #myImg02, #myImg03 {
            position: absolute;
            width: 100px;
            height: auto;
        }
        /* Fixed position for the diamond */
        #myImg03 {
            bottom: 0; /* Stick to the bottom */
            right: 0; /* Stick to the right */
        }
    </style>
</head>
<body>

    <h1>t2a23 Game Template by Fred</h1>
    <script>
        // Global variables
        const originalPositionImg01 = { left: 100, top: 100 }; // Starting position for Steve

        // Set the initial position of Enderman (top-right corner)
        const myImg02 = document.getElementById('myImg02');
        myImg02.style.left = (window.innerWidth - 100) + 'px'; // Start at top-right corner
        myImg02.style.top = '0px';

        // Function to move Enderman toward Steve
        function moveEndermanImage() {
            const myImg01 = document.getElementById('myImg01');
            let playerPos = {
                left: parseInt(myImg01.style.left) || originalPositionImg01.left,
                top: parseInt(myImg01.style.top) || originalPositionImg01.top
            };
            let endermanPos = {
                left: parseInt(myImg02.style.left),
                top: parseInt(myImg02.style.top)
            };

            // Calculate the direction toward the player
            let dx = playerPos.left - endermanPos.left;
            let dy = playerPos.top - endermanPos.top;

            // Move the Enderman a little bit toward Steve
            const distance = Math.sqrt(dx * dx + dy * dy);
            const speed = 1; // Speed of the Enderman
            if (distance > speed) {
                endermanPos.left += (dx / distance) * speed;
                endermanPos.top += (dy / distance) * speed;
            }
            
            myImg02.style.left = endermanPos.left + 'px';
            myImg02.style.top = endermanPos.top + 'px';

            // Check for collision with Steve
            if (collisionDetected(playerPos, endermanPos)) {
                resetStevePosition(myImg01);
            }
        }

        // Check if Enderman collides with Steve
        function collisionDetected(playerPos, endermanPos) {
            const playerWidth = myImg01.clientWidth;
            const playerHeight = myImg01.clientHeight;
            const endermanWidth = myImg02.clientWidth;
            const endermanHeight = myImg02.clientHeight;

            return !(
                playerPos.left > endermanPos.left + endermanWidth ||
                playerPos.left + playerWidth < endermanPos.left ||
                playerPos.top > endermanPos.top + endermanHeight ||
                playerPos.top + playerHeight < endermanPos.top
            );
        }

        // Reset Steve's position
        function resetStevePosition(myImg01) {
            myImg01.style.left = originalPositionImg01.left + 'px';
            myImg01.style.top = originalPositionImg01.top + 'px';
        }

        // Update Enderman's position continuously
        setInterval(moveEndermanImage, 100); // Move 10 times per second

        // Handle movement for Steve with WASD keys
        document.addEventListener('keydown', function(event) {
            const myImg01 = document.getElementById('myImg01');
            let leftPosition = parseInt(myImg01.style.left) || originalPositionImg01.left;
            let topPosition = parseInt(myImg01.style.top) || originalPositionImg01.top;

            // Move the image based on key pressed
            if (event.key === 'a' || event.key === 'ArrowLeft') {
                if (leftPosition > 0) { // Check for left boundary
                    myImg01.style.left = (leftPosition - 10) + 'px'; // Move left
                }
            }
            if (event.key === 'd' || event.key === 'ArrowRight') {
                if (leftPosition < window.innerWidth - parseInt(myImg01.clientWidth)) { // Check for right boundary
                    myImg01.style.left = (leftPosition + 10) + 'px'; // Move right
                }
            }
            if (event.key === 'w' || event.key === 'ArrowUp') {
                if (topPosition > 0) { // Check for top boundary
                    myImg01.style.top = (topPosition - 10) + 'px'; // Move up
                }
            }
            if (event.key === 's' || event.key === 'ArrowDown') {
                if (topPosition < window.innerHeight - parseInt(myImg01.clientHeight)) { // Check for bottom boundary
                    myImg01.style.top = (topPosition + 10) + 'px'; // Move down
                }
            }
        });
    </script>

    <!-- Steve Image that can be moved -->
    <img id="myImg01" style="left: ${originalPositionImg01.left}px; top: ${originalPositionImg01.top}px;" src="https://www.seekpng.com/png/full/32-320625_minecraft-steve-png.png">

    <!-- Enderman Image positioned at top right corner -->
    <img id="myImg02" style="top: 0px;" src="https://wallpapers.com/images/hd/minecraft-enderman-vector-art-ssiw094gpxgwc79f.png">

    <!-- Static Diamond Image positioned at the bottom right corner -->
    <img id="myImg03" src="https://art.pixilart.com/0be03a9e33b57bc.png">

</body>
</html>
