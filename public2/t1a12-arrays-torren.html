<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Arrays with Dynamic Input</title>
    <style>
        body {
            background-color: #001f3f;
            color: #ffffff;
            font-family: Arial, sans-serif;
            padding: 20px;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            color: #ffdc00;
            margin-bottom: 20px;
        }

        #clearButton {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 120px;
            height: 40px;
            background-color: #0074d9;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background-color: #005bb5;
        }

        .form-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 900px;
            width: 100%;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1 1 200px;
            margin: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        input {
            padding: 10px;
            margin-top: 5px;
            border: none;
            border-radius: 5px;
            width: 100%;
            box-sizing: border-box;
        }

        button {
            padding: 10px;
            margin-top: 5px;
            border: none;
            border-radius: 5px;
            background-color: #0074d9;
            color: #ffffff;
            cursor: pointer;
            width: 100%;
        }

        .output-box {
            margin-top: 10px;
            padding: 10px;
            background-color: #003366;
            border-radius: 5px;
            width: 100%;
            overflow-wrap: break-word;
        }

        .color-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-left: 10px;
            border: 1px solid #ffffff;
        }

        /* Added a fixed height for consistency in box alignment */
        .output-box {
            height: 60px; /* Set a fixed height for output boxes to keep them uniform */
        }
    </style>
</head>

<body>
    <button id="clearButton" onclick="clearOutputs()">Clear All</button>
    <h1>JavaScript Arrays with Dynamic Input</h1>
    
    <div class="form-container">
        <div class="form-group">
            <h2>Numbers</h2>
            <input type="number" id="numberInput">
            <button onclick="addNumber()">Add Number</button>
            <div id="numbersOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Fruits</h2>
            <input type="text" id="fruitInput">
            <button onclick="addFruit()">Add Fruit</button>
            <div id="fruitsOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Mixed Data</h2>
            <input type="text" id="mixedInput">
            <button onclick="addMixed()">Add Mixed Data</button>
            <div id="mixedOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Users</h2>
            <input type="text" id="userNameInput" placeholder="Name">
            <button onclick="addUser()">Add User</button>
            <div id="usersOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Unique Values</h2>
            <input type="text" id="uniqueInput" placeholder="Comma-separated numbers">
            <button onclick="getUniqueNumbers()">Get Unique Numbers</button>
            <div id="uniqueNumbersOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Random Colors</h2>
            <input type="number" id="randomColorsCount" placeholder="Number of colors" min="1">
            <button onclick="generateRandomColors()">Generate</button>
            <div id="randomColorsOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Average of Numbers</h2>
            <input type="text" id="averageInput" placeholder="Comma-separated numbers">
            <button onclick="calculateAverage()">Calculate</button>
            <div id="averageOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Sort Numbers</h2>
            <input type="text" id="sortInput" placeholder="Comma-separated numbers">
            <button onclick="sortManualNumbers()">Sort</button>
            <div id="sortedNumbersOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Shuffle Numbers</h2>
            <input type="text" id="shuffleInput" placeholder="Comma-separated numbers">
            <button onclick="shuffleManualNumbers()">Shuffle</button>
            <div id="shuffledNumbersOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Matrix</h2>
            <input type="number" id="matrixInput">
            <button onclick="addMatrix()">Add</button>
            <div id="matrixOutput" class="output-box"></div>
        </div>

        <div class="form-group">
            <h2>Fibonacci Sequence</h2>
            <input type="number" id="fibonacciInput" placeholder="Enter a number">
            <button onclick="generateFibonacci()">Generate</button>
            <div id="fibonacciOutput" class="output-box"></div>
        </div>
    </div>

    <script>
        // Arrays
        const numbers = [];
        const fruits = [];
        const mixedArray = [];
        const users = [];
        const matrix = [[], [], []];

        // Add number to numbers array
        function addNumber() {
            const number = document.getElementById('numberInput').value;
            if (number) {
                numbers.push(Number(number));
                displayResults();
            }
        }

        // Add fruit to fruits array
        function addFruit() {
            const fruit = document.getElementById('fruitInput').value;
            if (fruit) {
                fruits.push(fruit);
                displayResults();
            }
        }

        // Add mixed data to mixedArray
        function addMixed() {
            const mixed = document.getElementById('mixedInput').value;
            if (mixed) {
                mixedArray.push(mixed);
                displayResults();
            }
        }

        // Add user to users array
        function addUser() {
            const userName = document.getElementById('userNameInput').value;
            if (userName) {
                users.push({ id: users.length + 1, name: userName });
                displayResults();
            }
        }

        // Get unique numbers from user input
        function getUniqueNumbers() {
            const input = document.getElementById('uniqueInput').value;
            const uniqueNumbers = [...new Set(input.split(',').map(num => Number(num.trim())))];
            document.getElementById("uniqueNumbersOutput").innerHTML = `Unique Numbers: ${uniqueNumbers.join(", ")}`;
        }

        // Generate random colors
        function generateRandomColors() {
            const count = Number(document.getElementById('randomColorsCount').value) || 5;
            let colors = '';
            for (let i = 0; i < count; i++) {
                const color = `#${Math.floor(Math.random() * 16777215).toString(16)}`;
                colors += `${color} <span class="color-box" style="background-color: ${color};"></span><br>`;
            }
            document.getElementById("randomColorsOutput").innerHTML = `Random Colors:<br> ${colors}`;
        }

        // Calculate average of numbers from user input
        function calculateAverage() {
            const input = document.getElementById('averageInput').value;
            const numbers = input.split(',').map(num => parseFloat(num.trim())).filter(num => !isNaN(num));
            const sum = numbers.reduce((acc, num) => acc + num, 0);
            const average = (numbers.length > 0) ? (sum / numbers.length) : 0;
            document.getElementById("averageOutput").innerHTML = `Manual Average: ${average}`;
        }

        // Manually sort numbers from input
        function sortManualNumbers() {
            const input = document.getElementById('sortInput').value;
            const numbers = input.split(',').map(num => parseFloat(num.trim())).filter(num => !isNaN(num));
            const sortedNumbers = numbers.sort((a, b) => a - b);
            document.getElementById("sortedNumbersOutput").innerHTML = `Sorted Manual Numbers: ${sortedNumbers.join(", ")}`;
        }

        // Manually shuffle numbers from input
        function shuffleManualNumbers() {
            const input = document.getElementById('shuffleInput').value;
            const numbers = input.split(',').map(num => parseFloat(num.trim())).filter(num => !isNaN(num));
            const shuffledNumbers = numbers.sort(() => Math.random() - 0.5);
            document.getElementById("shuffledNumbersOutput").innerHTML = `Shuffled Manual Numbers: ${shuffledNumbers.join(", ")}`;
        }

        // Add number to matrix
        function addMatrix() {
            const number = document.getElementById('matrixInput').value;
            if (number) {
                const row = Math.floor(matrix.flat().length / 3);
                if (row < 3) {
                    matrix[row].push(Number(number));
                    displayResults();
                } else {
                    alert("Matrix is full");
                }
            }
        }

        // Generate Fibonacci sequence
        function generateFibonacci() {
            const n = document.getElementById('fibonacciInput').value;
            let fibonacciSequence = [];
            for (let i = 0; i < n; i++) {
                fibonacciSequence.push(fibonacci(i));
            }
            displayResults(fibonacciSequence);
        }

        // Fibonacci function
        function fibonacci(n) {
            if (n < 2) return n;
            return fibonacci(n - 1) + fibonacci(n - 2);
        }

        // Clear output function
        function clearOutputs() {
            document.getElementById("numbersOutput").innerHTML = '';
            document.getElementById("fruitsOutput").innerHTML = '';
            document.getElementById("mixedOutput").innerHTML = '';
            document.getElementById("usersOutput").innerHTML = '';
            document.getElementById("uniqueNumbersOutput").innerHTML = '';
            document.getElementById("randomColorsOutput").innerHTML = '';
            document.getElementById("averageOutput").innerHTML = '';
            document.getElementById("sortedNumbersOutput").innerHTML = '';
            document.getElementById("shuffledNumbersOutput").innerHTML = '';
            document.getElementById("matrixOutput").innerHTML = '';
            document.getElementById("fibonacciOutput").innerHTML = '';
        }

        // Display results
        function displayResults(fibonacciSequence) {
            const sum = numbers.reduce((acc, num) => acc + num, 0);
            const uppercasedFruits = fruits.map(fruit => fruit.toUpperCase());
            const stringsOnly = mixedArray.filter(item => typeof item === "string");
            const user = users.find(user => user.id === 2);
            const flattenedMatrix = matrix.flat();

            document.getElementById("numbersOutput").innerHTML = `Sum of numbers: ${sum}`;
            document.getElementById("fruitsOutput").innerHTML = `Uppercased fruits: ${uppercasedFruits.join(", ")}`;
            document.getElementById("mixedOutput").innerHTML = `Strings in mixed array: ${stringsOnly.join(", ")}`;
            document.getElementById("usersOutput").innerHTML = `User with ID 2: ${user ? user.name : "Not found"}`;
            document.getElementById("matrixOutput").innerHTML = `Flattened matrix: ${flattenedMatrix.join(", ")}`;
            if (fibonacciSequence) {
                document.getElementById("fibonacciOutput").innerHTML = `Fibonacci sequence: ${fibonacciSequence.join(", ")}`;
            }
        }
    </script>
</body>

</html>
