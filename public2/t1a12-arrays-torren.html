<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Arrays with Dynamic Input</title>
    <style>
        body {
            background-color: #001f3f;
            color: #ffffff;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        h1, h2 {
            color: #ffdc00;
        }
        input, button {
            padding: 10px;
            margin: 5px;
            border: none;
            border-radius: 5px;
        }
        input {
            width: 200px;
        }
        button {
            background-color: #0074d9;
            color: #ffffff;
            cursor: pointer;
        }
        button:hover {
            background-color: #005bb5;
        }
        .output-box {
            margin-top: 10px;
            padding: 10px;
            background-color: #003366;
            border-radius: 5px;
            width: 80%;
            text-align: left;
        }
    </style>
</head>
<body>
    <h1>JavaScript Arrays with Dynamic Input</h1>
    
    <h2>Numbers</h2>
    <input type="number" id="numberInput">
    <button onclick="addNumber()">Add Number</button>
    <div id="numbersOutput" class="output-box"></div>
    
    <h2>Fruits</h2>
    <input type="text" id="fruitInput">
    <button onclick="addFruit()">Add Fruit</button>
    <div id="fruitsOutput" class="output-box"></div>
    
    <h2>Mixed Data</h2>
    <input type="text" id="mixedInput">
    <button onclick="addMixed()">Add Mixed Data</button>
    <div id="mixedOutput" class="output-box"></div>
    
    <h2>Users</h2>
    <input type="text" id="userNameInput" placeholder="Name">
    <button onclick="addUser()">Add User</button>
    <div id="usersOutput" class="output-box"></div>
    
    <h2>Matrix</h2>
    <input type="number" id="matrixInput">
    <button onclick="addMatrix()">Add to Matrix</button>
    <div id="matrixOutput" class="output-box"></div>
    
    <h2>Fibonacci Sequence</h2>
    <input type="number" id="fibonacciInput" placeholder="Enter a number">
    <button onclick="generateFibonacci()">Generate Fibonacci</button>
    <div id="fibonacciOutput" class="output-box"></div>
    
    <script>
        // Arrays
        const numbers = [];
        const fruits = [];
        const mixedArray = [];
        const users = [];
        const matrix = [[], [], []];
        let fibonacciSequence = [];

        // Add number to numbers array
        function addNumber() {
            const number = document.getElementById('numberInput').value;
            if (number) {
                numbers.push(Number(number));
                displayResults();
            }
        }

        // Add fruit to fruits array
        function addFruit() {
            const fruit = document.getElementById('fruitInput').value;
            if (fruit) {
                fruits.push(fruit);
                displayResults();
            }
        }

        // Add mixed data to mixedArray
        function addMixed() {
            const mixed = document.getElementById('mixedInput').value;
            if (mixed) {
                mixedArray.push(mixed);
                displayResults();
            }
        }

        // Add user to users array
        function addUser() {
            const userName = document.getElementById('userNameInput').value;
            if (userName) {
                const userId = users.length + 1;
                users.push({ id: userId, name: userName });
                displayResults();
            }
        }

        // Add number to matrix
        function addMatrix() {
            const number = document.getElementById('matrixInput').value;
            if (number) {
                const row = Math.floor(matrix.flat().length / 3);
                if (row < 3) {
                    matrix[row].push(Number(number));
                    displayResults();
                } else {
                    alert("Matrix is full");
                }
            }
        }

        // Generate Fibonacci sequence
        function generateFibonacci() {
            const n = document.getElementById('fibonacciInput').value;
            fibonacciSequence = [];
            for (let i = 0; i < n; i++) {
                if (i === 0) {
                    fibonacciSequence.push(0);
                } else if (i === 1) {
                    fibonacciSequence.push(1);
                } else {
                    fibonacciSequence.push(fibonacciSequence[i - 1] + fibonacciSequence[i - 2]);
                }
            }
            displayResults();
        }

        // Display results
        function displayResults() {
            const sum = numbers.reduce((acc, num) => acc + num, 0);
            const uppercasedFruits = fruits.map(fruit => fruit.toUpperCase());
            const stringsOnly = mixedArray.filter(item => typeof item === "string");
            const user = users.find(user => user.id === 2);
            const flattenedMatrix = matrix.flat();

            document.getElementById("numbersOutput").innerHTML = `Sum of numbers: ${sum}`;
            document.getElementById("fruitsOutput").innerHTML = `Uppercased fruits: ${uppercasedFruits.join(", ")}`;
            document.getElementById("mixedOutput").innerHTML = `Strings in mixed array: ${stringsOnly.join(", ")}`;
            document.getElementById("usersOutput").innerHTML = `User with ID 2: ${user ? user.name : "Not found"}`;
            document.getElementById("matrixOutput").innerHTML = `Flattened matrix: ${flattenedMatrix.join(", ")}`;
            document.getElementById("fibonacciOutput").innerHTML = `Fibonacci sequence: ${fibonacciSequence.join(", ")}`;
        }

        // Cool loops
        function coolLoops() {
            // Loop with a twist using for...of and entries()
            const fruits = ["apple", "banana", "cherry"];
            for (const [index, fruit] of fruits.entries()) {
                console.log(`Index: ${index}, Fruit: ${fruit}`);
            }

            // Loop through an object's properties using Object.entries()
            const user = { name: "Alice", age: 25, city: "Wonderland" };
            for (const [key, value] of Object.entries(user)) {
                console.log(`${key}: ${value}`);
            }

            // Loop with a delay using setTimeout inside a for loop
            const numbers = [1, 2, 3, 4, 5];
            for (let i = 0; i < numbers.length; i++) {
                setTimeout(() => {
                    console.log(numbers[i]);
                }, i * 1000); // Delay increases with each iteration
            }

            // Loop through a string using for...of
            const str = "Hello, World!";
            for (const char of str) {
                console.log(char);
            }

            // Loop with a generator function
            function* fibonacci(n) {
                let a = 0, b = 1;
                for (let i = 0; i < n; i++) {
                    yield a;
                    [a, b] = [b, a + b];
                }
            }

            for (const num of fibonacci(10)) {
                console.log(num);
            }
        }

        // Call cool loops function to demonstrate
        coolLoops();
    </script>
</body>
</html>
