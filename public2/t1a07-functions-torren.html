<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combined Functions with Star Wars Theme</title>
    <style>
        body {
            background-color: #25e3be; /* Light mode background */
            font-family: Arial, sans-serif;
            margin: 50px;
            color: black; /* Light mode text color */
            transition: all 0.5s ease; /* Smooth transition for dark mode */
        }
        body.dark-mode {
            background-color: #333; /* Dark mode background */
            color: white; /* Dark mode text color */
        }
        input, button {
            padding: 10px;
            margin: 5px;
        }
        h2 {
            margin-top: 30px;
        }
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2em;
        }
    </style>
</head>
<body>
    <h1 style="text-align:center;">Combined Functions with Star Wars Theme</h1>

    <button id="toggleButton" onclick="toggleDarkMode()">Toggle Dark Mode</button>
    <button onclick="freezeScreen()">Click for a nasty surprise (you'll like it I promise)</button>
    <button id="playButton">Play Star Wars Theme</button>
    
    <div id="overlay">Screen is frozen...HAHAHAHA</div>

    <!-- Updated audio source -->
    <audio id="myAudio" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>

    <!-- Number Guessing Game -->
    <h2>Guess the Number!</h2>
    <p>Guess a number between 1 and 1000:</p>
    <input type="number" id="guess" min="1" max="1000">
    <button onclick="checkGuess()">Submit Guess</button>
    <p id="result"></p>

    <!-- Random Word Feature -->
    <label for="myFirstName">Input:</label>
    <input type="text" id="myFirstName" value="torren">
    <input type="button" value="Show on page" onclick="myVar('myDiv01').innerHTML = 'Your name is ' + myVar('myFirstName').value;">
    <input type="button" value="Get Random Word" onclick="showRandomWord()">
    <div id="myDiv01">Waiting....Hurry up and type</div>
    <div id="randomWordDiv">Click the button to get a random word that is very random.</div>

    <!-- Calculate Days Between Dates -->
    <h2>Calculate Days Between Dates</h2>
    <label for="date1">Date 1:</label>
    <input type="date" id="date1">
    <label for="date2">Date 2:</label>
    <input type="date" id="date2">
    <input type="button" value="Calculate Days" onclick="showDaysBetweenDates()">
    <div id="daysBetweenDiv">Enter two dates into the boxes to see how many days apart they are (have fun with it).</div>

    <!-- Calculate Square Root -->
    <h2>Calculate Square Root</h2>
    <label for="sqrtInput">Enter a number:</label>
    <input type="number" id="sqrtInput" placeholder="Enter a non-negative number">
    <input type="button" value="Calculate Square Root" onclick="calculateSquareRoot()">
    <div id="sqrtResult">The result will be displayed here.</div>

    <!-- Convert to Binary -->
    <h2>Convert Number to Binary</h2>
    <label for="binaryInput">Enter a number:</label>
    <input type="number" id="binaryInput" placeholder="Enter a non-negative integer">
    <input type="button" value="Convert to Binary" onclick="convertToBinary()">
    <div id="binaryResult">Binary result will be displayed here.</div>

    <!-- Sort Numbers -->
    <h2>Enter 5 Numbers</h2>
    <input type="number" id="num1" placeholder="Number 1">
    <input type="number" id="num2" placeholder="Number 2">
    <input type="number" id="num3" placeholder="Number 3">
    <input type="number" id="num4" placeholder="Number 4">
    <input type="number" id="num5" placeholder="Number 5">
    <button onclick="sortNumbers()">Sort from lowest to highest</button>
    <h3>Sorted Numbers:</h3>
    <p id="sortedResult"></p>

    <!-- Length Conversion -->
    <h2>Length Conversion</h2>
    <label for="km">Kilometers:</label>
    <input type="number" id="km" name="km" step="any">
    <button onclick="convert()">Convert</button>

    <h2>Results:</h2>
    <p id="meters"></p>
    <p id="centimeters"></p>
    <p id="millimeters"></p>
    <p id="micrometers"></p>
    <p id="nanometers"></p>

    <script>
        function myVar(myIn) {
            return document.getElementById(myIn);
        }
        
        const playButton = document.getElementById('playButton');
        const audio = document.getElementById('myAudio');

        playButton.addEventListener('click', function() {
            // Check if the audio is loaded and ready to play
            if (audio.readyState >= 2) { // Have enough data to play
                audio.play().catch(function(error) {
                    console.error('Error playing audio:', error);
                });
            } else {
                console.error('Audio is not ready to play');
            }
        });

        function getRandomWord() {
            const words = ["apple", "banana", "cherry", "date", "elderberry", "fig", "grape", "honeydew"];
            const randomIndex = Math.floor(Math.random() * words.length);
            return words[randomIndex];
        }
        
        function showRandomWord() {
            myVar('randomWordDiv').innerHTML = 'A random word is: ' + getRandomWord();
        }

        function daysBetweenDates(date1, date2) {
            const d1 = new Date(date1);
            const d2 = new Date(date2);
            const timeDiff = Math.abs(d2 - d1);
            const diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
            return diffDays;
        }

        function showDaysBetweenDates() {
            const date1 = myVar('date1').value;
            const date2 = myVar('date2').value;
            const days = daysBetweenDates(date1, date2);
            myVar('daysBetweenDiv').innerHTML = `The number of days between ${date1} and ${date2} is ${days} days.`;
        }

        function calculateSquareRoot() {
            const number = myVar('sqrtInput').value;
            const resultElement = myVar('sqrtResult');

            if (number < 0) {
                resultElement.innerHTML = "Please enter a non-negative number.";
                return;
            }

            const squareRoot = Math.sqrt(number);
            resultElement.innerHTML = `The square root of ${number} is ${squareRoot.toFixed(2)}.`;
        }

        function freezeScreen() {
            document.getElementById('overlay').style.display = 'flex';
            setTimeout(function() {
                document.getElementById('overlay').style.display = 'none';
            }, 3000);
        }

        // Number Guessing Game
        let randomNumber = Math.floor(Math.random() * 1000) + 1;

        function checkGuess() {
            let userGuess = document.getElementById('guess').value;
            let result = document.getElementById('result');

            if (userGuess < randomNumber) {
                result.textContent = 'Higher!';
            } else if (userGuess > randomNumber) {
                result.textContent = 'Lower!';
            } else {
                result.textContent = 'Congratulations! You guessed it right!';
            }
        }

        function convertToBinary() {
            const number = myVar('binaryInput').value;
            const resultElement = myVar('binaryResult');
            if (number === '' || number < 0) {
                resultElement.innerHTML = "Please enter an integer that is not negative.";
                return;
            }

            const binaryString = Number(number).toString(2);
            resultElement.innerHTML = `The binary representation of ${number} is ${binaryString}.`;
        }

        function sortNumbers() {
            let numbers = [
                parseFloat(document.getElementById('num1').value),
                parseFloat(document.getElementById('num2').value),
                parseFloat(document.getElementById('num3').value),
                parseFloat(document.getElementById('num4').value),
                parseFloat(document.getElementById('num5').value)
            ];

            // Filter out NaN values and handle empty inputs
            numbers = numbers.filter(num => !isNaN(num));

            // Sort the numbers in ascending order
            numbers.sort(function(a, b) {
                return a - b;
            });

            // Display the sorted numbers
            document.getElementById('sortedResult').innerText = numbers.join(', ') || "Please enter valid numbers in all fields.";
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }

        function convert() {
            let km = document.getElementById('km').value;
            let meters = km * 1000;
            let centimeters = meters * 100;
            let millimeters = centimeters * 10;
            let micrometers = millimeters * 1000;
            let nanometers = micrometers * 1000;

            document.getElementById('meters').innerText = `Meters: ${meters}`;
            document.getElementById('centimeters').innerText = `Centimeters: ${centimeters}`;
            document.getElementById('millimeters').innerText = `Millimeters: ${millimeters}`;
            document.getElementById('micrometers').innerText = `Micrometers: ${micrometers}`;
            document.getElementById('nanometers').innerText = `Nanometers: ${nanometers}`;
        }
    </script>
</body>
</html>
