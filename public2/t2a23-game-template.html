<body id="myBody" style="background: url('https://i.imgflip.com/4kjnyz.jpg'); background-repeat: repeat; background-size: 80%">

<h1 align=center>t2a11 Game Template by Fred</h1>
<br><br><br><br>

<script>
    let myGlobalX = 0;
    const originalPositionImg01 = { left: 50, top: window.innerHeight - 80 }; // Original position for myImg01 (lower left)
    const originalPositionImg02 = { left: window.innerWidth - 100, top: 0 }; // Original position for myImg02 (upper right)

    const img01Speed = 2; // Speed for moving Doge
    const img02Speed = 1; // Speed for moving fish

    let keys = {}; // Object to keep track of pressed keys
    const myImg01 = document.getElementById('myImg01');
    const myImg02 = document.getElementById('myImg02');

    // Move the fish image randomly and smoothly
    function moveFishImage() {
        const fishPos = {
            x: parseFloat(myImg02.style.left),
            y: parseFloat(myImg02.style.top),
        };
        
        // Move fish randomly
        const randomX = (Math.random() - 0.5) * img02Speed; // Random x change
        const randomY = (Math.random() - 0.5) * img02Speed; // Random y change
        fishPos.x += randomX;
        fishPos.y += randomY;

        // Boundaries for the fish image to stay within the window
        fishPos.x = Math.max(0, Math.min(fishPos.x, window.innerWidth - 100)); // Keep within x bounds
        fishPos.y = Math.max(0, Math.min(fishPos.y, window.innerHeight - 80)); // Keep within y bounds

        myImg02.style.left = fishPos.x + 'px';
        myImg02.style.top = fishPos.y + 'px';
    }

    // Handle collision detection
    function myHitOther(my1, my2) {
        const left1 = parseFloat(my1.style.left);
        const right1 = left1 + parseFloat(my1.style.width);
        const top1 = parseFloat(my1.style.top);   
        const bottom1 = top1 + parseFloat(my1.style.height);
        const left2 = parseFloat(my2.style.left);
        const right2 = left2 + parseFloat(my2.style.width);
        const top2 = parseFloat(my2.style.top);   
        const bottom2 = top2 + parseFloat(my2.style.height);
        return (right1 >= left2) &&       
               (bottom1 >= top2) &&
               (left1 <= right2) &&
               (top1 <= bottom2);
    }

    function myCheckHit() {
        if (myHitOther(myImg01, myImg02)) {
            // Reset both images to their original positions
            myImg01.style.left = originalPositionImg01.left + 'px';
            myImg01.style.top = originalPositionImg01.top + 'px';
            myImg02.style.left = originalPositionImg02.left + 'px';
            myImg02.style.top = originalPositionImg02.top + 'px';
        }
    }

    // Update the Doge image position based on key presses
    function updatePosition() {
        let leftPosition = parseFloat(myImg01.style.left);
        let topPosition = parseFloat(myImg01.style.top);

        // Move Doge based on key presses
        if (keys['ArrowLeft'] || keys['a']) {
            leftPosition -= img01Speed; // Move left
        }
        if (keys['ArrowRight'] || keys['d']) {
            leftPosition += img01Speed; // Move right
        }
        if (keys['ArrowUp'] || keys['w']) {
            topPosition -= img01Speed; // Move up
        }
        if (keys['ArrowDown'] || keys['s']) {
            topPosition += img01Speed; // Move down
        }

        // Boundary conditions for Doge image
        leftPosition = Math.max(0, Math.min(leftPosition, window.innerWidth - 100)); // Keep within x bounds
        topPosition = Math.max(0, Math.min(topPosition, window.innerHeight - 80)); // Keep within y bounds

        myImg01.style.left = leftPosition + 'px';
        myImg01.style.top = topPosition + 'px';

        myCheckHit(); // Check for collisions
        moveFishImage(); // Move the fish
        requestAnimationFrame(updatePosition); // Continue updating positions
    }

    // Handle key press events
    document.addEventListener('keydown', function(event) {
        keys[event.key] = true; // Set key as pressed
    });

    document.addEventListener('keyup', function(event) {
        keys[event.key] = false; // Reset key state when released
    });

    // Start the animation loop
    requestAnimationFrame(updatePosition);
</script>

<img id="myImg01" style="position:absolute; width:100px; height:80px; top:calc(100% - 80px); left:50px;" src="https://www.pngarts.com/files/10/Doge-Download-Transparent-PNG-Image.png">
<img id="myImg02" style="position:absolute; width:100px; height:80px; top:0; left:calc(100% - 100px);" src="https://www.pngmart.com/files/3/Real-Fish-Transparent-PNG.png">

<input type="button" value="Auto Background Left" onclick="{
  clearInterval(myClock);
  let myTemp = '100px 0px';
  myClock = setInterval(function(){
      myGlobalX -= 5;
      myTemp = myGlobalX + 'px 0px';
      document.getElementById('myBody').style.backgroundPosition = myTemp;
  }, 100);
}">
<input type="button" value="Image Right Fast Button" onTouchStart="{this.click(); event.preventDefault();}" onclick="{
  document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) + 10 + 'px';
  myCheckHit(); // checks for all collisions
}">
<br><br>
</body>
