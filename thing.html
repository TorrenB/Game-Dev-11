<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text to Speech</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        label, select, input { margin: 10px; }
    </style>
</head>
<body>

<h1>Text to Speech Demo</h1>
<input type="text" id="text-input" placeholder="Type something..." />
<button id="speak-button">Speak</button>

<h2>Voice Settings</h2>
<label for="voice-select">Voice:</label>
<select id="voice-select"></select><br>

<label for="rate">Rate:</label>
<input type="range" id="rate" min="0.1" max="2" step="0.1" value="1"><br>
<span id="rate-value">1</span><br>

<label for="volume">Volume:</label>
<input type="range" id="volume" min="0" max="1" step="0.1" value="1"><br>
<span id="volume-value">1</span><br>

<script>
    const textInput = document.getElementById('text-input');
    const speakButton = document.getElementById('speak-button');
    const voiceSelect = document.getElementById('voice-select');
    const rateControl = document.getElementById('rate');
    const volumeControl = document.getElementById('volume');
    const rateValue = document.getElementById('rate-value');
    const volumeValue = document.getElementById('volume-value');

    let voices = [];

    function populateVoiceList() {
        voices = speechSynthesis.getVoices();
        voices.forEach((voice, index) => {
            const option = document.createElement('option');
            option.value = index;
            option.textContent = `${voice.name} (${voice.lang})`;
            voiceSelect.appendChild(option);
        });
    }

    speechSynthesis.addEventListener('voiceschanged', populateVoiceList);
    populateVoiceList(); // Call it initially in case the voices are already loaded

    speakButton.addEventListener('click', () => {
        const utterance = new SpeechSynthesisUtterance(textInput.value);
        const selectedVoice = voices[voiceSelect.value];

        utterance.voice = selectedVoice;
        utterance.rate = rateControl.value;
        utterance.volume = volumeControl.value;

        speechSynthesis.speak(utterance);
    });

    textInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            speakButton.click();
        }
    });

    rateControl.addEventListener('input', () => {
        rateValue.textContent = rateControl.value;
    });

    volumeControl.addEventListener('input', () => {
        volumeValue.textContent = volumeControl.value;
    });

</script>

</body>
</html>
